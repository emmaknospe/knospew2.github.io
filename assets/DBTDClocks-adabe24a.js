import{_ as c,o,c as i,a as e,t as l,n as m,b as d,d as b,r as k,F as h,e as x,f}from"./index-9f4378a5.js";const C={props:["name","descr","max","value","last_recorded_value","max_resolve","min_resolve","visible","is_up_to_date"]},w={class:"clock-bar-title"},y={class:"clock-bar-container"},g={class:"clock-bar-left-label"},D={class:"clock-bar-outer"},B={class:"clock-bar-progress"},F={class:"clock-bar-right-label"},z={class:"clock-bar-descr"};function E(t,r,s,_,v,n){return o(),i("div",{class:b({"clock-bar":!0,"clock-bar-up-to-date":s.is_up_to_date,"clock-bar-out-of-date":!s.is_up_to_date})},[e("div",w,[e("h4",null,l(s.visible.includes("name")?s.name:"unknown"),1)]),e("div",y,[e("div",g,l(s.visible.includes("min_resolve")?s.min_resolve:"unknown"),1),e("div",D,[s.visible.includes("progress")?(o(),i("div",{key:0,class:"clock-bar-inner",style:m({width:`${(100*(s.last_recorded_value/s.max)).toFixed(2)}%`})},null,4)):d("",!0)]),e("div",B,l(s.last_recorded_value)+" / "+l(s.max),1),e("div",F,l(s.visible.includes("max_resolve")?s.max_resolve:"unknown"),1)]),e("div",z,l(s.visible.includes("descr")?s.descr:"unknown"),1)],2)}const N=c(C,[["render",E]]),S={data(){return{clocks:[],loaded:!1}},methods:{async getData(){const t=await fetch("https://x8ki-letl-twmt.n7.xano.io/api:eyXtWEG6/clocks");this.clocks=await t.json(),this.loaded=!0}},computed:{visibleClocks(){return this.clocks.filter(function(t){return t.visible})}},components:{Clock:N},mounted(){this.getData()}},T=e("h2",null,"DBTD Clocks",-1),V={key:0},j=e("div",{class:"lds-roller"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")],-1),G=[j];function L(t,r,s,_,v,n){const u=k("Clock");return o(),i("main",null,[T,t.loaded?d("",!0):(o(),i("div",V,G)),(o(!0),i(h,null,x(n.visibleClocks,a=>(o(),f(u,{key:a.name,name:a.name,descr:a.descr,max:a.max,last_recorded_value:a.last_recorded_value,value:a.value,max_resolve:a.max_resolve,min_resolve:a.min_resolve,visible:a.visible},null,8,["name","descr","max","last_recorded_value","value","max_resolve","min_resolve","visible"]))),128))])}const X=c(S,[["render",L]]);export{X as default};
